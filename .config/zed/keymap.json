[
  // ═══════════════════════════════════════════════════════════════════════════
  // BLACK HOLE REGISTER: d/x/c don't overwrite clipboard
  // ═══════════════════════════════════════════════════════════════════════════
  {
    "context": "Editor && vim_mode == normal && !menu",
    "bindings": {
      "d": ["vim::PushOperator", { "Delete": { "register": "_" } }],
      "c": ["vim::PushOperator", { "Change": { "register": "_" } }],
      "x": ["vim::Delete", { "register": "_" }]
    }
  },
  {
    "context": "Editor && vim_mode == visual && !menu",
    "bindings": {
      "d": ["vim::Delete", { "register": "_" }],
      "c": ["vim::Change", { "register": "_" }],
      "x": ["vim::Delete", { "register": "_" }]
    }
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // LEADER BINDINGS (space)
  // ═══════════════════════════════════════════════════════════════════════════
  {
    "context": "Editor && vim_mode == normal && !menu",
    "bindings": {
      // Buffer/Window management
      "space x": "pane::CloseActiveItem",
      "space q": "pane::CloseAllItems",
      "space o": "workspace::CloseInactiveTabsAndPanes",

      // LSP
      "space r": "editor::Rename",
      "space a": "editor::ToggleCodeActions",
      "space shift-f": "editor::Format",

      // Diagnostics
      "space d": "diagnostics::Deploy",
      "] d": "editor::GoToDiagnostic",
      "[ d": "editor::GoToPrevDiagnostic",

      // Search/Navigation
      "space f f": "file_finder::Toggle",
      "space f g": "pane::DeploySearch",
      "space f b": "tab_switcher::Toggle",
      "space s r": "search::SelectAllMatches",

      // Quickfix-style navigation
      "] q": "search::SelectNextMatch",
      "[ q": "search::SelectPreviousMatch",

      // Git
      "space g g": ["task::Spawn", { "task_name": "lazygit", "reveal_target": "center" }]
    }
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // EMPTY PANE / PROJECT PANEL BINDINGS
  // ═══════════════════════════════════════════════════════════════════════════
  {
    "context": "EmptyPane || SharedScreen",
    "bindings": {
      "space f f": "file_finder::Toggle",
      "space g g": ["task::Spawn", { "task_name": "lazygit", "reveal_target": "center" }]
    }
  },
  {
    "context": "ProjectPanel && not_editing",
    "bindings": {
      "space g g": ["task::Spawn", { "task_name": "lazygit", "reveal_target": "center" }]
    }
  }
]
